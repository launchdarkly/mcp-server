/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { accountUsageBetaGetStreamUsageSdkversion } from "../../funcs/accountUsageBetaGetStreamUsageSdkversion.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.GetStreamUsageSdkversionRequest$inboundSchema,
};

export const tool$accountUsageBetaGetStreamUsageSdkversion: ToolDefinition<
  typeof args
> = {
  name: "account-usage-(beta)-get-stream-usage-sdkversion",
  description: `Get stream usage SDK versions

Get a list of SDK version objects, which contain an SDK name and version. These are all of the SDKs that have connected to LaunchDarkly from your account in the past 60 days.`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await accountUsageBetaGetStreamUsageSdkversion(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
