/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { accountUsageBetaGetMauSdksByType } from "../../funcs/accountUsageBetaGetMauSdksByType.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.GetMauSdksByTypeRequest$inboundSchema,
};

export const tool$accountUsageBetaGetMauSdksByType: ToolDefinition<
  typeof args
> = {
  name: "account-usage-(beta)-get-mau-sdks-by-type",
  description: `Get MAU SDKs by type

Get a list of SDKs. These are all of the SDKs that have connected to LaunchDarkly by monthly active users (MAU) in the requested time period.<br/><br/>Endpoints for retrieving monthly active users (MAU) do not return information about active context instances. After you have upgraded your LaunchDarkly SDK to use contexts instead of users, you should not rely on this endpoint. To learn more, read [Account usage metrics](https://launchdarkly.com/docs/home/account/metrics).`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await accountUsageBetaGetMauSdksByType(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
