/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { otherGetVersions } from "../../funcs/otherGetVersions.js";
import { formatResult, ToolDefinition } from "../tools.js";

export const tool$otherGetVersions: ToolDefinition = {
  name: "other-get-versions",
  description: `Get version information

Get the latest API version, the list of valid API versions in ascending order, and the version being used for this request. These are all in the external, date-based format.`,
  tool: async (client, ctx) => {
    const [result, apiCall] = await otherGetVersions(
      client,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    const value = result.value;

    return formatResult(value, apiCall);
  },
};
