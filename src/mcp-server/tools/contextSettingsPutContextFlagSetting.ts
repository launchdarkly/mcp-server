/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { contextSettingsPutContextFlagSetting } from "../../funcs/contextSettingsPutContextFlagSetting.js";
import * as operations from "../../models/operations/index.js";
import { formatResult, ToolDefinition } from "../tools.js";

const args = {
  request: operations.PutContextFlagSettingRequest$inboundSchema,
};

export const tool$contextSettingsPutContextFlagSetting: ToolDefinition<
  typeof args
> = {
  name: "context-settings-put-context-flag-setting",
  description: `Update flag settings for context


Enable or disable a feature flag for a context based on its context kind and key.

Omitting the \`setting\` attribute from the request body, or including a \`setting\` of \`null\`, erases the current setting for a context.

If you previously patched the flag, and the patch included the context's data, LaunchDarkly continues to use that data. If LaunchDarkly has never encountered the combination of the context's key and kind before, it calculates the flag values based on the context kind and key.
`,
  args,
  tool: async (client, args, ctx) => {
    const [result, apiCall] = await contextSettingsPutContextFlagSetting(
      client,
      args.request,
      { fetchOptions: { signal: ctx.signal } },
    ).$inspect();

    if (!result.ok) {
      return {
        content: [{ type: "text", text: result.error.message }],
        isError: true,
      };
    }

    return formatResult(void 0, apiCall);
  },
};
