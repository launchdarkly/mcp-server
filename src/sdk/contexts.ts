/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { contextsDeleteContextInstances } from "../funcs/contextsDeleteContextInstances.js";
import { contextsEvaluateContextInstance } from "../funcs/contextsEvaluateContextInstance.js";
import { contextsGetContextAttributeNames } from "../funcs/contextsGetContextAttributeNames.js";
import { contextsGetContextAttributeValues } from "../funcs/contextsGetContextAttributeValues.js";
import { contextsGetContextInstances } from "../funcs/contextsGetContextInstances.js";
import { contextsGetContextKindsByProjectKey } from "../funcs/contextsGetContextKindsByProjectKey.js";
import { contextsGetContexts } from "../funcs/contextsGetContexts.js";
import { contextsPutContextKind } from "../funcs/contextsPutContextKind.js";
import { contextsSearchContextInstances } from "../funcs/contextsSearchContextInstances.js";
import { contextsSearchContexts } from "../funcs/contextsSearchContexts.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Contexts extends ClientSDK {
  /**
   * Get context kinds
   *
   * @remarks
   * Get all context kinds for a given project.
   */
  async getContextKindsByProjectKey(
    request: operations.GetContextKindsByProjectKeyRequest,
    options?: RequestOptions,
  ): Promise<models.ContextKindsCollectionRep> {
    return unwrapAsync(contextsGetContextKindsByProjectKey(
      this,
      request,
      options,
    ));
  }

  /**
   * Create or update context kind
   *
   * @remarks
   * Create or update a context kind by key. Only the included fields will be updated.
   */
  async putContextKind(
    request: operations.PutContextKindRequest,
    options?: RequestOptions,
  ): Promise<models.UpsertResponseRep> {
    return unwrapAsync(contextsPutContextKind(
      this,
      request,
      options,
    ));
  }

  /**
   * Get context attribute names
   *
   * @remarks
   * Get context attribute names.
   */
  async getContextAttributeNames(
    request: operations.GetContextAttributeNamesRequest,
    options?: RequestOptions,
  ): Promise<models.ContextAttributeNamesCollection> {
    return unwrapAsync(contextsGetContextAttributeNames(
      this,
      request,
      options,
    ));
  }

  /**
   * Get context attribute values
   *
   * @remarks
   * Get context attribute values.
   */
  async getContextAttributeValues(
    request: operations.GetContextAttributeValuesRequest,
    options?: RequestOptions,
  ): Promise<models.ContextAttributeValuesCollection> {
    return unwrapAsync(contextsGetContextAttributeValues(
      this,
      request,
      options,
    ));
  }

  /**
   * Search for context instances
   *
   * @remarks
   *
   * Search for context instances.
   *
   * You can use either the query parameters or the request body parameters. If both are provided, there is an error.
   *
   * To learn more about the filter syntax, read [Filtering contexts and context instances](https://launchdarkly.com/docs/ld-docs/api/contexts#filtering-contexts-and-context-instances). To learn more about context instances, read [Context instances](https://launchdarkly.com/docs/home/observability/multi-contexts#context-instances).
   */
  async searchContextInstances(
    request: operations.SearchContextInstancesRequest,
    options?: RequestOptions,
  ): Promise<models.ContextInstances> {
    return unwrapAsync(contextsSearchContextInstances(
      this,
      request,
      options,
    ));
  }

  /**
   * Get context instances
   *
   * @remarks
   * Get context instances by ID.
   */
  async getContextInstances(
    request: operations.GetContextInstancesRequest,
    options?: RequestOptions,
  ): Promise<models.ContextInstances> {
    return unwrapAsync(contextsGetContextInstances(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete context instances
   *
   * @remarks
   * Delete context instances by ID.
   */
  async deleteContextInstances(
    request: operations.DeleteContextInstancesRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(contextsDeleteContextInstances(
      this,
      request,
      options,
    ));
  }

  /**
   * Search for contexts
   *
   * @remarks
   *
   * Search for contexts.
   *
   * You can use either the query parameters or the request body parameters. If both are provided, there is an error.
   *
   * To learn more about the filter syntax, read [Filtering contexts and context instances](https://launchdarkly.com/docs/ld-docs/api/contexts#filtering-contexts-and-context-instances). To learn more about contexts, read [Contexts and context kinds](https://launchdarkly.com/docs/home/observability/contexts#contexts-and-context-kinds).
   */
  async searchContexts(
    request: operations.SearchContextsRequest,
    options?: RequestOptions,
  ): Promise<models.Contexts> {
    return unwrapAsync(contextsSearchContexts(
      this,
      request,
      options,
    ));
  }

  /**
   * Get contexts
   *
   * @remarks
   * Get contexts based on kind and key.
   */
  async getContexts(
    request: operations.GetContextsRequest,
    options?: RequestOptions,
  ): Promise<models.Contexts> {
    return unwrapAsync(contextsGetContexts(
      this,
      request,
      options,
    ));
  }

  /**
   * Evaluate flags for context instance
   *
   * @remarks
   * Evaluate flags for a context instance, for example, to determine the expected flag variation. **Do not use this API instead of an SDK.** The LaunchDarkly SDKs are specialized for the tasks of evaluating feature flags in your application at scale and generating analytics events based on those evaluations. This API is not designed for that use case. Any evaluations you perform with this API will not be reflected in features such as flag statuses and flag insights. Context instances evaluated by this API will not appear in the Contexts list. To learn more, read [Comparing LaunchDarkly's SDKs and REST API](https://launchdarkly.com/docs/guides/api/comparing-sdk-rest-api).
   *
   * ### Filtering
   *
   * LaunchDarkly supports the `filter` query param for filtering, with the following fields:
   *
   * - `query` filters for a string that matches against the flags' keys and names. It is not case sensitive. For example: `filter=query equals dark-mode`.
   * - `tags` filters the list to flags that have all of the tags in the list. For example: `filter=tags contains ["beta","q1"]`.
   *
   * You can also apply multiple filters at once. For example, setting `filter=query equals dark-mode, tags contains ["beta","q1"]` matches flags which match the key or name `dark-mode` and are tagged `beta` and `q1`.
   */
  async evaluateContextInstance(
    request: operations.EvaluateContextInstanceRequest,
    options?: RequestOptions,
  ): Promise<models.ContextInstanceEvaluations> {
    return unwrapAsync(contextsEvaluateContextInstance(
      this,
      request,
      options,
    ));
  }
}
