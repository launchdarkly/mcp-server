/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { applicationsDelete } from "../funcs/applicationsDelete.js";
import { applicationsGet } from "../funcs/applicationsGet.js";
import { applicationsGetVersions } from "../funcs/applicationsGetVersions.js";
import { applicationsUpdate } from "../funcs/applicationsUpdate.js";
import { applicationsUpdateVersion } from "../funcs/applicationsUpdateVersion.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as components from "../models/components/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class Applications extends ClientSDK {
  /**
   * Get application by key
   *
   * @remarks
   *
   * Retrieve an application by the application key.
   *
   * ### Expanding the application response
   *
   * LaunchDarkly supports expanding the "Get application" response to include additional fields.
   *
   * To expand the response, append the `expand` query parameter and include the following:
   *
   * * `flags` includes details on the flags that have been evaluated by the application
   *
   * For example, use `?expand=flags` to include the `flags` field in the response. By default, this field is **not** included in the response.
   */
  async get(
    request: operations.GetApplicationRequest,
    options?: RequestOptions,
  ): Promise<components.ApplicationRep> {
    return unwrapAsync(applicationsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update application
   *
   * @remarks
   * Update an application. You can update the `description` and `kind` fields. Requires a [JSON patch](https://datatracker.ietf.org/doc/html/rfc6902) representation of the desired changes to the application. To learn more, read [Updates](https://launchdarkly.com/docs/api#updates).
   */
  async update(
    request: operations.PatchApplicationRequest,
    options?: RequestOptions,
  ): Promise<components.ApplicationRep> {
    return unwrapAsync(applicationsUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete application
   *
   * @remarks
   * Delete an application.
   */
  async delete(
    request: operations.DeleteApplicationRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(applicationsDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Get application versions by application key
   *
   * @remarks
   * Get a list of versions for a specific application in an account.
   */
  async getVersions(
    request: operations.GetApplicationVersionsRequest,
    options?: RequestOptions,
  ): Promise<components.ApplicationVersionsCollectionRep> {
    return unwrapAsync(applicationsGetVersions(
      this,
      request,
      options,
    ));
  }

  /**
   * Update application version
   *
   * @remarks
   * Update an application version. You can update the `supported` field. Requires a [JSON patch](https://datatracker.ietf.org/doc/html/rfc6902) representation of the desired changes to the application version. To learn more, read [Updates](https://launchdarkly.com/docs/api#updates).
   */
  async updateVersion(
    request: operations.PatchApplicationVersionRequest,
    options?: RequestOptions,
  ): Promise<components.ApplicationVersionRep> {
    return unwrapAsync(applicationsUpdateVersion(
      this,
      request,
      options,
    ));
  }
}
