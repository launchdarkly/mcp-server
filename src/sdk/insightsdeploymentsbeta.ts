/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { insightsDeploymentsBetaCreateDeploymentEvent } from "../funcs/insightsDeploymentsBetaCreateDeploymentEvent.js";
import { insightsDeploymentsBetaGetDeployment } from "../funcs/insightsDeploymentsBetaGetDeployment.js";
import { insightsDeploymentsBetaGetDeployments } from "../funcs/insightsDeploymentsBetaGetDeployments.js";
import { insightsDeploymentsBetaUpdateDeployment } from "../funcs/insightsDeploymentsBetaUpdateDeployment.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as models from "../models/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class InsightsDeploymentsBeta extends ClientSDK {
  /**
   * Create deployment event
   *
   * @remarks
   * Create deployment event
   */
  async createDeploymentEvent(
    request: models.PostDeploymentEventInput,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(insightsDeploymentsBetaCreateDeploymentEvent(
      this,
      request,
      options,
    ));
  }

  /**
   * List deployments
   *
   * @remarks
   * Get a list of deployments
   *
   * ### Expanding the deployment collection response
   *
   * LaunchDarkly supports expanding the deployment collection response to include additional fields.
   *
   * To expand the response, append the `expand` query parameter and include the following:
   *
   * * `pullRequests` includes details on all of the pull requests associated with each deployment
   * * `flagReferences` includes details on all of the references to flags in each deployment
   *
   * For example, use `?expand=pullRequests` to include the `pullRequests` field in the response. By default, this field is **not** included in the response.
   */
  async getDeployments(
    request: operations.GetDeploymentsRequest,
    options?: RequestOptions,
  ): Promise<models.DeploymentCollectionRep> {
    return unwrapAsync(insightsDeploymentsBetaGetDeployments(
      this,
      request,
      options,
    ));
  }

  /**
   * Get deployment
   *
   * @remarks
   * Get a deployment by ID.
   *
   * The deployment ID is returned as part of the [List deployments](https://launchdarkly.com/docs/api/insights-deployments-beta/get-deployments) response. It is the `id` field of each element in the `items` array.
   *
   * ### Expanding the deployment response
   *
   * LaunchDarkly supports expanding the deployment response to include additional fields.
   *
   * To expand the response, append the `expand` query parameter and include the following:
   *
   * * `pullRequests` includes details on all of the pull requests associated with each deployment
   * * `flagReferences` includes details on all of the references to flags in each deployment
   *
   * For example, use `?expand=pullRequests` to include the `pullRequests` field in the response. By default, this field is **not** included in the response.
   */
  async getDeployment(
    request: operations.GetDeploymentRequest,
    options?: RequestOptions,
  ): Promise<models.DeploymentRep> {
    return unwrapAsync(insightsDeploymentsBetaGetDeployment(
      this,
      request,
      options,
    ));
  }

  /**
   * Update deployment
   *
   * @remarks
   * Update a deployment by ID. Updating a deployment uses a [JSON patch](https://datatracker.ietf.org/doc/html/rfc6902) representation of the desired changes. To learn more, read [Updates](https://launchdarkly.com/docs/api#updates).<br/><br/>The deployment ID is returned as part of the [List deployments](https://launchdarkly.com/docs/api/insights-deployments-beta/get-deployments) response. It is the `id` field of each element in the `items` array.
   */
  async updateDeployment(
    request: operations.UpdateDeploymentRequest,
    options?: RequestOptions,
  ): Promise<models.DeploymentRep> {
    return unwrapAsync(insightsDeploymentsBetaUpdateDeployment(
      this,
      request,
      options,
    ));
  }
}
