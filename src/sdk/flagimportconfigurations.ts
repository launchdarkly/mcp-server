/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { flagImportConfigurationsCreate } from "../funcs/flagImportConfigurationsCreate.js";
import { flagImportConfigurationsDelete } from "../funcs/flagImportConfigurationsDelete.js";
import { flagImportConfigurationsGet } from "../funcs/flagImportConfigurationsGet.js";
import { flagImportConfigurationsList } from "../funcs/flagImportConfigurationsList.js";
import { flagImportConfigurationsTriggerJob } from "../funcs/flagImportConfigurationsTriggerJob.js";
import { flagImportConfigurationsUpdate } from "../funcs/flagImportConfigurationsUpdate.js";
import { ClientSDK, RequestOptions } from "../lib/sdks.js";
import * as components from "../models/components/index.js";
import * as operations from "../models/operations/index.js";
import { unwrapAsync } from "../types/fp.js";

export class FlagImportConfigurations extends ClientSDK {
  /**
   * List all flag import configurations
   *
   * @remarks
   * List all flag import configurations.
   */
  async list(
    options?: RequestOptions,
  ): Promise<components.FlagImportIntegrationCollection> {
    return unwrapAsync(flagImportConfigurationsList(
      this,
      options,
    ));
  }

  /**
   * Create a flag import configuration
   *
   * @remarks
   * Create a new flag import configuration. The `integrationKey` path parameter identifies the feature management system from which the import occurs, for example, `split`. The `config` object in the request body schema is described by the global integration settings, as specified by the <code>formVariables</code> in the <code>manifest.json</code> for this integration. It varies slightly based on the `integrationKey`.
   */
  async create(
    request: operations.CreateFlagImportConfigurationRequest,
    options?: RequestOptions,
  ): Promise<components.FlagImportIntegration> {
    return unwrapAsync(flagImportConfigurationsCreate(
      this,
      request,
      options,
    ));
  }

  /**
   * Get a single flag import configuration
   *
   * @remarks
   * Get a single flag import configuration by ID. The `integrationKey` path parameter identifies the feature management system from which the import occurs, for example, `split`.
   */
  async get(
    request: operations.GetFlagImportConfigurationRequest,
    options?: RequestOptions,
  ): Promise<components.FlagImportIntegration> {
    return unwrapAsync(flagImportConfigurationsGet(
      this,
      request,
      options,
    ));
  }

  /**
   * Update a flag import configuration
   *
   * @remarks
   * Updating a flag import configuration uses a [JSON patch](https://datatracker.ietf.org/doc/html/rfc6902) representation of the desired changes. To learn more, read [Updates](https://launchdarkly.com/docs/api#updates).<br/><br/>To add an element to the import configuration fields that are arrays, set the `path` to the name of the field and then append `/<array index>`. Use `/0` to add to the beginning of the array. Use `/-` to add to the end of the array.<br/><br/>You can update the `config`, `tags`, and `name` of the flag import configuration.
   */
  async update(
    request: operations.PatchFlagImportConfigurationRequest,
    options?: RequestOptions,
  ): Promise<components.FlagImportIntegration> {
    return unwrapAsync(flagImportConfigurationsUpdate(
      this,
      request,
      options,
    ));
  }

  /**
   * Delete a flag import configuration
   *
   * @remarks
   * Delete a flag import configuration by ID. The `integrationKey` path parameter identifies the feature management system from which the import occurs, for example, `split`.
   */
  async delete(
    request: operations.DeleteFlagImportConfigurationRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(flagImportConfigurationsDelete(
      this,
      request,
      options,
    ));
  }

  /**
   * Trigger a single flag import run
   *
   * @remarks
   * Trigger a single flag import run for an existing flag import configuration. The `integrationKey` path parameter identifies the feature management system from which the import occurs, for example, `split`.
   */
  async triggerJob(
    request: operations.TriggerFlagImportJobRequest,
    options?: RequestOptions,
  ): Promise<void> {
    return unwrapAsync(flagImportConfigurationsTriggerJob(
      this,
      request,
      options,
    ));
  }
}
